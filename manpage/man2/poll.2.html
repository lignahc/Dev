<HTML><HEAD><TITLE>Manpage of POLL</TITLE>
</HEAD><BODY>
<H1>POLL</H1>
Section: 리눅스 프로그래머 매뉴얼 (2)<BR>Updated: 1997년 11월 7일<BR><A HREF="#index">Index</A>
<BR />
<A HREF="http://localhost/cgi-bin/man/man2html">Return to Main Contents</A><HR>

<A NAME="lbAB">&nbsp;</A>
<H2>이름</H2>

poll - 파일 기술자에서 어떠한 이벤트를 기다린다.
<A NAME="lbAC">&nbsp;</A>
<H2>사용법</H2>

<B>#include &lt;<A HREF="file:/usr/include/sys/poll.h">sys/poll.h</A>&gt;</B>

<P>
<B>int poll(struct pollfd *</B><I>ufds</I><B>, unsigned int </B><I>nfds</I><B>, int </B><I>timeout</I><B>);</B>

<A NAME="lbAD">&nbsp;</A>
<H2>설명</H2>

<B>poll</B>

은
<B>select</B>와

같은 맥락의 기능을 가진 변형함수이다. 다음은
<I>nfds</I>

구조체 타입의 배열과
<BR>

<P>
<PRE>
        struct pollfd {
                int fd;           /* 파일 기술자 */
                short events;     /* 요구된 이벤트 */
                short revents;    /* 반환된 이벤트 */
        };
</PRE>

<P>
밀리초인
<I>timeout</I>

을 기술한다.
음수값은 제한되지 않은 타임 아웃을 의미한다.
<I>fd</I>

필드는 열려진 파일 기술자를 포함한다.
<I>events</I>

필드는 응용 프로그램이 기다리고 있는 이벤트를 지정한 비트 마스크된 입력
파라미터이다.
<I>revents</I>

필드는  요구된 타입의 이벤트이거나
<B>POLLERR</B>

또는
<B>POLLHUP</B>

또는
<B>POLLNVAL</B>타입의

이벤트 중 하나가 실제로 일어났을 때 이벤트를 가진 커널에 의해 채워진 출력
파라미터이다. (이 세개의 비트들은
<I>events</I>

필드에서는 의미가 없으며 상응하는 조건이 참일 때만
<I>revents</I>

필드에 설정된다.)
요구된 이벤트 중 어떤 것도 파일 기술자 중에서 일어나지 않는다면, 커널은
이 이벤트들 중 하나가 일어나기를
<I>timeout</I>

밀리초동안 기다린다.
이들 비트마스크 중에서 다음 가능한 비트들이 &lt;<A HREF="file:/usr/include/sys/poll.h">sys/poll.h</A>&gt;에 정의되어 있다.
<BR>

<P>
<PRE>
    #define POLLIN      0x0001    /* 읽을 데이터가 있다 */
    #define POLLPRI     0x0002    /* 읽을 긴급한 데이터가 있다 */
    #define POLLOUT     0x0004    /* 쓰기가 지금 봉쇄가 아니다 */
    #define POLLERR     0x0008    /* 에러 조건 */
    #define POLLHUP     0x0010    /* 실행중지 또는 재시작 */
    #define POLLNVAL    0x0020    /* 무효한 요구: fd가 열려지지 않았다 */
</PRE>

<P>
&lt;<A HREF="file:/usr/include/asm/poll.h">asm/poll.h</A>&gt; 에는 또한
<B>POLLRDNORM</B>,

<B>POLLRDBAND</B>,

<B>POLLWRNORM</B>,

<B>POLLWRBAND</B>

값들과
<B>POLLMSG</B>

가 정의되어 있다.
<A NAME="lbAE">&nbsp;</A>
<H2>반환값</H2>

성공시, 양수 값이 반환되며 반환된 숫자는
<I>revents</I>

필드가 가지고 있는 구조체의 숫자이다. 
(다시 말해서, 보고된 이벤트들이나 에러들을 가지고 있는 이들 파일 기술자)
0 은 호출이 타임 아웃이 걸렸고 어떤 파일 기술자도 선택되지 않았음을 가리킨다.
에러이면 -1이 리턴되며
<I>errno</I>

는 적당한 값으로 설정된다.
<A NAME="lbAF">&nbsp;</A>
<H2>에러</H2>

<DL COMPACT>
<DT><B>ENOMEM</B>

<DD>
파일 기술자 테이블을 할당할 공간이 없다.
<DT><B>EFAULT</B>

<DD>
인자로 주어진 배열이 호출 프로그램의 주소 공간에 포함되어 있지 않다.
<DT><B>EINTR</B>

<DD>
요구된 이벤트 전에 신호가 발생했다.
</DL>
<A NAME="lbAG">&nbsp;</A>
<H2>호환</H2>

XPG4-UNIX.
<A NAME="lbAH">&nbsp;</A>
<H2>유효성</H2>

poll() 시스템 콜은 Linux 2.1.23에 소개되었다.
poll() 라이브러리 함수는 libc 5.4.28 에 소개 되었다.
(그리고 여러분의 커널이 poll 시스템 콜을 가지고 있지 않다면 select 를 사용한
에뮬레이션을 제공한다.)
<A NAME="lbAI">&nbsp;</A>
<H2>관련 항목</H2>

<B><A HREF="http://localhost/cgi-bin/man/man2html?2+select">select</A></B>(2)

<A NAME="lbAJ">&nbsp;</A>
<H2>번역</H2>

정강훈 &lt;<A HREF="mailto:skyeyes@soback.kornet.net">skyeyes@soback.kornet.net</A>&gt; 2000년 8월 6일
<BR>

한글 Manpage 프로젝트 (<A HREF="http://man.kldp.org">http://man.kldp.org</A>) 2005년 2월 15일
<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">이름</A><DD>
<DT><A HREF="#lbAC">사용법</A><DD>
<DT><A HREF="#lbAD">설명</A><DD>
<DT><A HREF="#lbAE">반환값</A><DD>
<DT><A HREF="#lbAF">에러</A><DD>
<DT><A HREF="#lbAG">호환</A><DD>
<DT><A HREF="#lbAH">유효성</A><DD>
<DT><A HREF="#lbAI">관련 항목</A><DD>
<DT><A HREF="#lbAJ">번역</A><DD>
</DL>
<HR>
This document was created by
<A HREF="http://localhost/cgi-bin/man/man2html">man2html</A>,
using the manual pages.<BR>
Time: 11:15:37 GMT, February 15, 2005
</BODY>
</HTML>
