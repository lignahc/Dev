<HTML><HEAD><TITLE>Manpage of CONNECT</TITLE>
</HEAD><BODY>
<H1>CONNECT</H1>
Section: 리눅스 프로그래머 매뉴얼 (2)<BR>Updated: 1998년 10월 3일<BR><A HREF="#index">Index</A>
<BR />
<A HREF="http://localhost/cgi-bin/man/man2html">Return to Main Contents</A><HR>

<A NAME="lbAB">&nbsp;</A>
<H2>이름</H2>

connect - 소켓 연결을 시작한다.
<A NAME="lbAC">&nbsp;</A>
<H2>사용법</H2>

<B>#include &lt;<A HREF="file:/usr/include/sys/types.h">sys/types.h</A>&gt;</B>

<BR>

<B>#include &lt;<A HREF="file:/usr/include/sys/socket.h">sys/socket.h</A>&gt;</B>

<P>
<B>int connect(int </B><I>sockfd</I><B>, const struct sockaddr *</B><I>serv_addr</I><B>,</B>

<B>socklen_t </B><I>addrlen</I><B>);</B>

<A NAME="lbAD">&nbsp;</A>
<H2>설명</H2>

파일 기술자
<I>sockfd</I>

는 소켓을 가리켜야 한다.
만일 소켓이 
<B>SOCK_DGRAM</B>

타입이라면 
<I>serv_addr</I>

주소는 기본적으로 보낸 데이터그램의 주소이며 받은 데이터그램의 유일한 
주소이다.  만일 소켓이 
<B>SOCK_STREAM</B>

나
<B>SOCK_SEQPACKET</B>이라면,

함수는 다른 소켓에 대한 연결을 만든다.
다른 소켓은 
<I>serv_addr</I>에

의해 명시되며, 이것은 소켓의 통신 공간에 있는 주소(
<I>addrlen길이</I>)

이다.
각각의 통신 공간들은 자신의 방식대로 
<I>serv_addr</I>

인자를 해석한다.
<P>

일반적으로, 연결 지향 프로토콜 소켓들은 성공적으로 한번에
<B>connect</B>

한다; 비연결 지향 프로토콜 소켓들은 이것들의 관련사항을 바꾸기 위해
여러번 
<B>connect</B>

를 사용 한다.
비 연결 지향 소켓들은 
<B>sockaddr </B>

의 
<I>sa_family</I>

멤버가 가지고 있는 주소를 
<B>AF_UNSPEC</B>으로

설정하고 연결하여 관련사항들을 없앤다.
<BR>&nbsp;
<A NAME="lbAE">&nbsp;</A>
<H2>반환값</H2>

만일 연결이나 바인딩이 성공한다면, 0이 반환된다.
에러시, -1이 반환되며 
<I>errno</I>

는 적당한 값으로 설정된다.
<A NAME="lbAF">&nbsp;</A>
<H2>에러</H2>

다음것을은 단지 일반적 소켓 에러들이다. 여기에는 다른 도메인에 의존한 에러들이
있을수 있다.
<DL COMPACT>
<DT><B>EBADF</B>

<DD>
파일 기술자가 기술자 테이블에 있는 유효한 인덱스가 아니다.
<DT><B>EFAULT</B>

<DD>
소켓 구조체 주소가 사용자의 주소공간외에 있다.
<DT><B>ENOTSOCK</B>

<DD>
파일 기술자가 소켓과 관련되어 있지 않다.
<DT><B>EISCONN</B>

<DD>
소켓이 이미 연결되어 있다.
<DT><B>ECONNREFUSED</B>

<DD>
원격 주소에 대해 기다리고 있는 것이 하나도 없다.
<DT><B>ETIMEDOUT</B>

<DD>
연결 시도중 타임아웃이 발생했다. 서버는 너무 busy 상태이어서 새 연결을 
받아들일수 없다. IP 소켓에서 동기화가 서버에서 가능할경우 매우 오래 
걸린다는점을 주의해라.
<DT><B>ENETUNREACH</B>

<DD>
네트워크에 도달할수 없다.
<DT><B>EADDRINUSE</B>

<DD>
로컬 주소가 이미 사용중이다.
<DT><B>EINPROGRESS</B>

<DD>
소켓이 비-블럭킹이며 연결이 즉시 완성될수 없다. 
쓰기를 위해 소켓을 선택하여 연결 완성을 위해서
<B><A HREF="http://localhost/cgi-bin/man/man2html?2+select">select</A></B>(2)<B>나</B>

<B><A HREF="http://localhost/cgi-bin/man/man2html?2+poll">poll</A></B>(2)<B>으로</B>

가능하다.
<B>select</B>

가 쓰기가능을 가리킨후,
<B>connect</B>

이 성공적
(<B>SO_ERROR</B>

는 0이다)으로 끝났는지 아닌지
(<B>SO_ERROR</B>

는 실패에 대한 이유를 설명하면서 여기에서 나열된 보통의 에러조건들중 하나이다.)
를 결정하기 위해서
<B>SOL_SOCKET</B>

레벨의
<B>SO_ERROR</B>

옵션을 읽기위해 
<B><A HREF="http://localhost/cgi-bin/man/man2html?2+getsockopt">getsockopt</A></B>(2)<B>을</B>

사용해라.
<DT><B>EALREADY</B>

<DD>
소켓이 비-블럭킹이고 전 연결 시도가 아직 완전하지 않다.
<DT><B>EAGAIN</B>

<DD>
사용할수 있는 로컬 포트가 더이상 없거나 라우팅 캐싱에 엔트리가 충분하지 않다.
<B>PF_INET</B>

시 로컬 포트의 수를 중가시키기 위해서는 
<B><A HREF="http://localhost/cgi-bin/man/man2html?7+ip">ip</A></B>(7)에

있는 
<B>net.ipv4.ip_local_port_range</B>

sysctl을 참고해라.
<DT><B>EAFNOSUPPORT</B>

<DD>
전달된 주소가 
<I>sa_family</I>

필드에 있는 정확한 주소 가족을 가지고 있지 않다.
<DT><B>EACCES, EPERM</B>

<DD>
사용자가 소켓 브로드캐스트 플래그를 가능하게 하지 않고 주소를 브러드캐스트
주소에 연결할려고 시도 했거나 로컬 방화벽 규칙때문에 연결 요구가 실패했다.
</DL>
<A NAME="lbAG">&nbsp;</A>
<H2>호환</H2>

SVr4, 4.4BSD (
<B>connect</B>

함수는 BSD4.2에서 처음 나타났다.). SVr4는 추가적으로 일반적 에러 조건들
<B>EADDRNOTAVAIL</B>,

<B>EINVAL</B>,

<B>EAFNOSUPPORT</B>,

<B>EALREADY</B>,

<B>EINTR</B>,

<B>EPROTOTYPE</B>,

그리고
<B>ENOSR</B>를

문서화 했다.
여기서 기술하지 않은 많은 추가적 에러 조건들돌 역시 문서화 되었다.
<A NAME="lbAH">&nbsp;</A>
<H2>주의</H2>

<B>connect</B>

의 세번쩨 인자는 실제로 int이다(그리고 이것은 BSD 4.*와 libc4, libc5가 가지고
있다.) 몇몇 POSIX에서 혼란은  socklen_t 때문이다.
표준은 아직 채택되지 않았지만 glibc2는 이미 그것을 따르고 있고 또한
socklen_t도 가지고 있다. 
<A NAME="lbAI">&nbsp;</A>
<H2>버그</H2>

<B>AF_UNSPEC</B>

주로로 
<B>connect</B>

를 호출하여 소켓의 접속을 끝는것은 아직 수행되지 않는다.
<A NAME="lbAJ">&nbsp;</A>
<H2>관련 항목</H2>

<B><A HREF="http://localhost/cgi-bin/man/man2html?2+accept">accept</A></B>(2),

<B><A HREF="http://localhost/cgi-bin/man/man2html?2+bind">bind</A></B>(2),

<B><A HREF="http://localhost/cgi-bin/man/man2html?2+listen">listen</A></B>(2),

<B><A HREF="http://localhost/cgi-bin/man/man2html?2+socket">socket</A></B>(2),

<B><A HREF="http://localhost/cgi-bin/man/man2html?2+getsockname">getsockname</A></B>(2)

<A NAME="lbAK">&nbsp;</A>
<H2>역자</H2>

정강훈 &lt;<A HREF="mailto:skyeyes@soback.kornet.net">skyeyes@soback.kornet.net</A>&gt;, 2000년 7월 3일
<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">이름</A><DD>
<DT><A HREF="#lbAC">사용법</A><DD>
<DT><A HREF="#lbAD">설명</A><DD>
<DT><A HREF="#lbAE">반환값</A><DD>
<DT><A HREF="#lbAF">에러</A><DD>
<DT><A HREF="#lbAG">호환</A><DD>
<DT><A HREF="#lbAH">주의</A><DD>
<DT><A HREF="#lbAI">버그</A><DD>
<DT><A HREF="#lbAJ">관련 항목</A><DD>
<DT><A HREF="#lbAK">역자</A><DD>
</DL>
<HR>
This document was created by
<A HREF="http://localhost/cgi-bin/man/man2html">man2html</A>,
using the manual pages.<BR>
Time: 08:06:59 GMT, March 25, 2004
</BODY>
</HTML>
