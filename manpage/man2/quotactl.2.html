<HTML><HEAD><TITLE>Manpage of QUOTACTL</TITLE>
</HEAD><BODY>
<H1>QUOTACTL</H1>
Section: Linux Programmer's Manual (2)<BR>Updated: 14 April 1996<BR><A HREF="#index">Index</A>
<BR />
<A HREF="http://localhost/cgi-bin/man/man2html">Return to Main Contents</A><HR>

<A NAME="lbAB">&nbsp;</A>
<H2>이름</H2>

quotactl - 디스크 분할을 다룬다
<A NAME="lbAC">&nbsp;</A>
<H2>사용법</H2>

<B>#include &lt;<A HREF="file:/usr/include/sys/types.h">sys/types.h</A>&gt;</B>

<BR>

<B>#include &lt;<A HREF="file:/usr/include/sys/quota.h">sys/quota.h</A>&gt;</B>

<P>
<B>int quotactl (int </B><I>cmd</I><B>, const char *</B><I>special</I><B>, int </B><I>id</I>

<B>, caddr_t </B><I>addr</I><B>);</B>

<P>
<B>#include &lt;<A HREF="file:/usr/include/linux/unistd.h">linux/unistd.h</A>&gt;</B>

<P>
<B>_syscall4(int, quotactl, int, </B><I>cmd</I><B>, const char *, </B><I>special</I>

<B>, int, </B><I>id</I><B>, caddr_t, </B><I>addr</I><B>);</B>

<A NAME="lbAD">&nbsp;</A>
<H2>설명</H2>

quota system은 각각의 사용자나 그룹을 위해 주어진 파일 시스템상에서 사용할 수 있는 디스크 공간의 양을 soft limit나 hard limit로 묶어주는 것이다. hard limit는 연결될 수 없다. soft limit는 연결될 수 있다. 하지만 주의가 필요하다. 게다가, 덧붙여서 사용자는 디폴트 상태에서 한번에 일주일 이상 soft limit 상에 있을 수 없다. 일주일 후에는 hard limit로 계산된다.

<B>quotactl</B>

시스템 호출은 이 quota를 다룬다. 이것은 첫번째 독립변수는
<I>QCMD(</I><B>subcmd</B><I>,</I><B>type</B><I>)</I>

의 형태이다.
<I>type</I>

은
<B>USRQUOTA</B>

나
<B>GRPQUOTA</B>

(각각 사용자 quota와 그룹 quota)이고,
<I>subcmd</I>

는 아래를 참조하자.

두번째 독립변수
<I>special</I>

는 quota에 적용되는 특별한 장치이다.
반드시 마운트 시켜야 한다.

세번째 독립변수
<I>id</I>

는 이 quota가 적용되는 사용자나 그룹의 id이다.

네번째 독립변수
<I>addr</I>

는 명령어에 따른 데이터 구조의 주소이다.

<I>subcmd</I>

는
<DL COMPACT>
<DT><B>Q_QUOTAON</B>

<DD>
가능 quota중 하나 이다.
<I>addr</I>

독립변수는 파일 시스템을 위한 quota를 포함하는 파일의 경로명이다.
<DT><B>Q_QUOTAOFF</B>

<DD>
quota 사용불가.
<DT><B>Q_GETQUOTA</B>

<DD>
limit과 현재 디스크 공간의 사용양을 가진다.
<I>addr</I>

독립변수는 dqblk structure (
<I>&lt;<A HREF="file:/usr/include/sys/quota.h">sys/quota.h</A>&gt;</I>

에 정의된 )를 가르키는 포인터이다.
<DT><B>Q_SETQUOTA</B>

<DD>
limit과 현재 사용양을 설정한다;
<I>addr</I>

는 이전과 같이 쓰인다.
<DT><B>Q_SETQLIM</B>

<DD>
limit를 설정한다;
<I>addr</I>

는 이전과 같이 쓰인다.
<DT><B>Q_SETUSE</B>

<DD>
사용량 설정.
<DT><B>Q_SYNC</B>

<DD>
filesystems quotas의 Sync disk copy 
<DT><B>Q_GETSTATS</B>

<DD>
현제 상태를 가진다.

</DL>
<A NAME="lbAE">&nbsp;</A>
<H2>반환값</H2>

성공시,
<B>quotactl</B>

는 0을 반환한다. 에러시, -1을 반환한다.
<I>errno</I>

는 적절히 설정된다.
<A NAME="lbAF">&nbsp;</A>
<H2>에러</H2>

<DL COMPACT>
<DT><B>ENOPKG</B>

<DD>
커널이 quota 지원 없이 컴파일 되었다.The kernel was compiled without quota support.
<DT><B>EFAULT</B>

<DD>
부적당한
<I>addr</I>

값.
<DT><B>EINVAL</B>

<DD>
<I>type</I>

이 알려지지 않은 type이다. 혹은,
<I>special</I>

을 찾을 수 없다.
<DT><B>ENOTBLK</B>

<DD>
<I>special</I>

이 block special device이 아니다.
<DT><B>ENODEV</B>

<DD>
<I>special</I>

을 마운트 테이블에서 찾을 수 없다.
<DT><B>EACCES</B>

<DD>
quota가 일반 파일이 아니다.
<DT><B>EIO</B>

<DD>
quota 파일을 읽거나 쓸 수 없다.
<DT><B>EMFILE</B>

<DD>
너무 많은 파일이 열려 있어서 quota파일을 열 수 없다.
<DT><B>EBUSY</B>

<DD>
<B>Q_QUOTAON</B>

이 요구되었지만, quota가 이미 사용되고 있다.
<DT><B>ESRCH</B>

<DD>
<B>Q_GETQUOTA</B>

나
<B>Q_SETQUOTA</B>

나
<B>Q_SETUSE</B>

난
<B>Q_SETQLIM</B>

가 quota가 가능한 파일시스템에게 요구되었다.
<DT><B>EPERM</B>

<DD>
The process was not root (for the file system), and
<B>Q_GETQUOTA</B>

가 다른 이미 사용되고 있는
<I>id</I>

에게 요구되었다. 혹은
<B>Q_GETSTATS</B>

나
<B>Q_SYNC</B>

가 요구되었다.
</DL>
<A NAME="lbAG">&nbsp;</A>
<H2>호환</H2>

BSD
<A NAME="lbAH">&nbsp;</A>
<H2>관련 항목</H2>

<B><A HREF="http://localhost/cgi-bin/man/man2html?1+quota">quota</A></B>(1),

<B><A HREF="http://localhost/cgi-bin/man/man2html?2+getrlimit">getrlimit</A></B>(2),

<B><A HREF="http://localhost/cgi-bin/man/man2html?2+setrlimit">setrlimit</A></B>(2),

<B><A HREF="http://localhost/cgi-bin/man/man2html?2+ulimit">ulimit</A></B>(2),

<B><A HREF="http://localhost/cgi-bin/man/man2html?8+quotacheck">quotacheck</A></B>(8),

<B><A HREF="http://localhost/cgi-bin/man/man2html?8+quotaon">quotaon</A></B>(8)

<A NAME="lbAI">&nbsp;</A>
<H2>역자</H2>

ASPLINUX&lt;<A HREF="mailto:man@asp-linux.co.kr">man@asp-linux.co.kr</A>&gt;, 2000년 7월 29
<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">이름</A><DD>
<DT><A HREF="#lbAC">사용법</A><DD>
<DT><A HREF="#lbAD">설명</A><DD>
<DT><A HREF="#lbAE">반환값</A><DD>
<DT><A HREF="#lbAF">에러</A><DD>
<DT><A HREF="#lbAG">호환</A><DD>
<DT><A HREF="#lbAH">관련 항목</A><DD>
<DT><A HREF="#lbAI">역자</A><DD>
</DL>
<HR>
This document was created by
<A HREF="http://localhost/cgi-bin/man/man2html">man2html</A>,
using the manual pages.<BR>
Time: 08:06:58 GMT, March 25, 2004
</BODY>
</HTML>
